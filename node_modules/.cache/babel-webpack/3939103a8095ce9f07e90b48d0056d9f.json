{"ast":null,"code":"import { Subject } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, switchMap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/product.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction SearchBarComponent_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"a\", 6);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/product/\", product_r2.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", product_r2.name, \" \");\n  }\n}\nexport class SearchBarComponent {\n  constructor(productService) {\n    this.productService = productService;\n    this.searchTerms = new Subject();\n  }\n  // Push a search term into the observable stream.\n  search(term) {\n    this.searchTerms.next(term);\n  }\n  ngOnInit() {\n    this.products$ = this.searchTerms.pipe(\n    // wait 300ms after each keystroke before considering the term\n    debounceTime(300),\n    // ignore new term if same as previous term\n    distinctUntilChanged(),\n    // switch to new search observable each time the term changes\n    switchMap(term => this.productService.searchProducts(term)));\n  }\n}\nSearchBarComponent.ɵfac = function SearchBarComponent_Factory(t) {\n  return new (t || SearchBarComponent)(i0.ɵɵdirectiveInject(i1.ProductService));\n};\nSearchBarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SearchBarComponent,\n  selectors: [[\"app-search-bar\"]],\n  decls: 8,\n  vars: 3,\n  consts: [[\"id\", \"search-component\"], [\"for\", \"search-box\"], [\"id\", \"search-box\", 3, \"input\"], [\"searchBox\", \"\"], [1, \"search-result\"], [4, \"ngFor\", \"ngForOf\"], [3, \"routerLink\"]],\n  template: function SearchBarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r3 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"label\", 1);\n      i0.ɵɵtext(2, \"Product Search\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"input\", 2, 3);\n      i0.ɵɵlistener(\"input\", function SearchBarComponent_Template_input_input_3_listener() {\n        i0.ɵɵrestoreView(_r3);\n        const _r0 = i0.ɵɵreference(4);\n        return ctx.search(_r0.value);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"ul\", 4);\n      i0.ɵɵtemplate(6, SearchBarComponent_li_6_Template, 3, 2, \"li\", 5);\n      i0.ɵɵpipe(7, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(7, 1, ctx.products$));\n    }\n  },\n  directives: [i2.NgForOf, i3.RouterLinkWithHref],\n  pipes: [i2.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzZWFyY2gtYmFyLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"names":["Subject","debounceTime","distinctUntilChanged","switchMap","i0","i1","i2","i3","SearchBarComponent_li_6_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","product_r2","$implicit","ɵɵadvance","ɵɵpropertyInterpolate1","id","ɵɵtextInterpolate1","name","SearchBarComponent","constructor","productService","searchTerms","search","term","next","ngOnInit","products$","pipe","searchProducts","ɵfac","SearchBarComponent_Factory","t","ɵɵdirectiveInject","ProductService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","SearchBarComponent_Template","_r3","ɵɵgetCurrentView","ɵɵlistener","SearchBarComponent_Template_input_input_3_listener","ɵɵrestoreView","_r0","ɵɵreference","value","ɵɵtemplate","ɵɵpipe","ɵɵproperty","ɵɵpipeBind1","directives","NgForOf","RouterLinkWithHref","pipes","AsyncPipe","styles"],"sources":["/Users/sang/WorkSpace/nd-0067-c3-angular-fundamentals-project-starter/src/app/search-bar/search-bar.component.ts"],"sourcesContent":["import { Subject } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, switchMap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/product.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction SearchBarComponent_li_6_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"a\", 6);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const product_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/product/\", product_r2.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", product_r2.name, \" \");\n} }\nexport class SearchBarComponent {\n    constructor(productService) {\n        this.productService = productService;\n        this.searchTerms = new Subject();\n    }\n    // Push a search term into the observable stream.\n    search(term) {\n        this.searchTerms.next(term);\n    }\n    ngOnInit() {\n        this.products$ = this.searchTerms.pipe(\n        // wait 300ms after each keystroke before considering the term\n        debounceTime(300), \n        // ignore new term if same as previous term\n        distinctUntilChanged(), \n        // switch to new search observable each time the term changes\n        switchMap((term) => this.productService.searchProducts(term)));\n    }\n}\nSearchBarComponent.ɵfac = function SearchBarComponent_Factory(t) { return new (t || SearchBarComponent)(i0.ɵɵdirectiveInject(i1.ProductService)); };\nSearchBarComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: SearchBarComponent, selectors: [[\"app-search-bar\"]], decls: 8, vars: 3, consts: [[\"id\", \"search-component\"], [\"for\", \"search-box\"], [\"id\", \"search-box\", 3, \"input\"], [\"searchBox\", \"\"], [1, \"search-result\"], [4, \"ngFor\", \"ngForOf\"], [3, \"routerLink\"]], template: function SearchBarComponent_Template(rf, ctx) { if (rf & 1) {\n        const _r3 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"label\", 1);\n        i0.ɵɵtext(2, \"Product Search\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"input\", 2, 3);\n        i0.ɵɵlistener(\"input\", function SearchBarComponent_Template_input_input_3_listener() { i0.ɵɵrestoreView(_r3); const _r0 = i0.ɵɵreference(4); return ctx.search(_r0.value); });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"ul\", 4);\n        i0.ɵɵtemplate(6, SearchBarComponent_li_6_Template, 3, 2, \"li\", 5);\n        i0.ɵɵpipe(7, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(7, 1, ctx.products$));\n    } }, directives: [i2.NgForOf, i3.RouterLinkWithHref], pipes: [i2.AsyncPipe], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzZWFyY2gtYmFyLmNvbXBvbmVudC5jc3MifQ== */\"] });\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}